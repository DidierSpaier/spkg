/** @page index Main Page

This is internal documentation of spkg.

Detailed implementation information for install, upgrade and 
remove commands can be found on the @ref cmds_impl page.

Some info on package database can be found on the @ref db_impl
page.

*/

/** @page cmds_impl Commands Implementation

Common requirements for a command implementation are:
@li only one pass of extracting tgz package is allowed,
@li every command must implement rollback of filesystem changes 
    up to the point when tgz archive is fully extracted,
@li filesystem inconsistency must be as short as possible,
@li allow for pre/post inst/upgr/remove scripts (pre script
    failure may break command execution).

@section ins Install

Here is description of what install commnad does:
 - check umask 022 and setuid 0
 - check if package exist in db
 - init ta
 - for each file in archive:
   - extract package description
   - extract doinst.sh symbolic links
   - check all tgz files for overwriting (including links)
   - extract file
   - add it to a transaction

 - create symbolic links
 - update package database
 - finalize transaction
 - run ldconfig
 - run doinst.sh
 - cleanup install/doinst.sh and slack-*

@section upg Upgrade

Not yet implemented.

@section rem Remove
 - check if file is not used by other packages
 - init ta
 - remove it (to temp dir)
 - updatedb

*/

/** @page db_impl Package Database Implementation

*/
